<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>User Dashboard</title>
	<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
	<link th:href="@{/css/style.css}" rel="stylesheet">
</head>

<body>
	<main>
		<div class="container-dashboard">
			<div class="user-info">
				<h2><strong>Dashboard</strong></h2>
				<p>ユーザーID: [[${session.user.username}]]</p>
				<p th:if="${session.user != null}">タイプ: [[${session.user.role.name()}]]</p>
				<p th:if="${session.user != null and session.user.role.name() == 'Admin'}">
					<a th:href="@{/catalog/add}">動画の追加</a>
				</p>
				<p><a th:href="@{/logout}">ログアウト</a></p>
			</div>
			<div class="activity-log">
				<h4>Recent Activity</h4>
				<div class="activity" th:each="activity : ${activities}">
					<div th:text="${#temporals.format(activity.createdAt, 'MMM dd, HH:mm')}"></div>
					<div th:text="${activity.type}"></div>
					<div th:text="${activity.details}"></div>
				</div>
			</div>
			<div class="catalog-link">
				<h1><a th:href="@{/catalog}">カタログへ</a></h1>
			</div>
			<div class="rented-movies">
				<h1>Under construction</h1>
			</div>
		</div>
	</main>
	<footer>
		<p>&copy; 2025 nEdFLiGz. All rights reserved.</p>
	</footer>
</body>

</html>